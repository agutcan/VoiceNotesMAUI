<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="VoiceNotesMAUI.MVVM.Views.AddNotePage"
             BackgroundColor="{StaticResource ColorFondo}">

    <ScrollView>
        <VerticalStackLayout Padding="30" Spacing="25">

            <Grid ColumnDefinitions="Auto, *" ColumnSpacing="20" VerticalOptions="Center">
                <Border Grid.Column="0" 
                    HeightRequest="45" 
                    WidthRequest="45" 
                    StrokeThickness="0" 
                    BackgroundColor="{StaticResource ColorTarjeta}">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="22.5" />
                    </Border.StrokeShape>
                    <Border.Shadow>
                        <Shadow Offset="0,3" Radius="6" Opacity="0.15" Brush="Black" />
                    </Border.Shadow>

                    <Grid HorizontalOptions="Fill" VerticalOptions="Fill">
                        <Label Text="â†" 
                           FontSize="24" 
                           TextColor="{StaticResource ColorPrimario}"
                           HorizontalOptions="Center" 
                           VerticalOptions="Center"
                           Margin="0,0,0,3" />
                        <ImageButton BackgroundColor="Transparent"
                             Clicked="OnVolverClicked"
                             HorizontalOptions="Fill"
                             VerticalOptions="Fill" />
                    </Grid>
                </Border>

                <VerticalStackLayout Grid.Column="1">
                    <Label Text="âœï¸ NUEVA" FontSize="12" TextColor="{StaticResource ColorPrimario}"
                           FontAttributes="Bold" CharacterSpacing="2" />
                    <Label Text="Escribir Nota" FontSize="32" FontAttributes="Bold" TextColor="{StaticResource ColorTexto}" />
                </VerticalStackLayout>
            </Grid>

            <Border StrokeThickness="0" BackgroundColor="{StaticResource ColorTarjeta}">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="20" />
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow Offset="0,10" Radius="20" Opacity="0.1" Brush="Black" />
                </Border.Shadow>

                <VerticalStackLayout Padding="20" Spacing="15">
                    <Editor Text="{Binding TextoNota}" Placeholder="Escribe aquÃ­ tus ideas..."
                            FontSize="18" TextColor="{StaticResource ColorTexto}"
                            AutoSize="TextChanges" MinimumHeightRequest="250" />

                    <BoxView HeightRequest="1" Color="#F0F0F0" />

                    <HorizontalStackLayout HorizontalOptions="End" Spacing="5">
                        <Label Text="{Binding LongitudTexto}" FontAttributes="Bold" TextColor="{StaticResource ColorPrimario}" />
                        <Label Text="caracteres" TextColor="Gray" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Border>

            <Button Text="ðŸ’¾ Guardar Nota" FontSize="18" BackgroundColor="{StaticResource ColorExito}"
                    TextColor="White" HeightRequest="60" CornerRadius="15" Clicked="OnGuardarNota">
                <Button.Shadow>
                    <Shadow Offset="0,5" Radius="12" Opacity="0.2" Brush="Black" />
                </Button.Shadow>
            </Button>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>